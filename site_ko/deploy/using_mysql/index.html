<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <title>Seafile과 MySQL 가동 - Server Seafile Manual</title>
  

  <link rel="shortcut icon" href="../../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Seafile과 MySQL 가동";
    var mkdocs_page_input_path = "deploy/using_mysql.md";
    var mkdocs_page_url = "/deploy/using_mysql/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script>
  <script src="../../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Server Seafile Manual</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../..">Summary</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>도입부</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../README/">README</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>둘러보기</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../overview/README/">README</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../overview/components/">Seafile 구성요소</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../overview/file_permission_management/">파일 권한 관리</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../roadmap/">로드맵</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../faq/">자주 묻는 질문</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../changelog/">Changelog</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../contribution/">기여하기</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Linux에서 Seafile 가동</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../README/">README</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../using_sqlite/">Seafile과 SQLite 가동</a>
        
    </li>

        
            
    <li class="toctree-l1 current">
        <a class="current" href="./">Seafile과 MySQL 가동</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#seafile-mysql">Seafile과 MySQL 가동</a></li>
                
                    <li><a class="toctree-l4" href="#_1">다운로드</a></li>
                
                    <li><a class="toctree-l4" href="#deploying-and-directory-layout">Deploying and Directory Layout</a></li>
                
            
                <li class="toctree-l3"><a href="#tree-haiwen-l-2">tree haiwen -L 2</a></li>
                
                    <li><a class="toctree-l4" href="#mysql">MySQL 데이터베이스 준비</a></li>
                
                    <li><a class="toctree-l4" href="#seafile">Seafile 서버 설치</a></li>
                
                    <li><a class="toctree-l4" href="#seafile_1">Seafile 서버 실행</a></li>
                
                    <li><a class="toctree-l4" href="#seafile-seahub_1">Seafile 및 Seahub 중지 및 다시 시작</a></li>
                
                    <li><a class="toctree-l4" href="#_7">성능 조정</a></li>
                
                    <li><a class="toctree-l4" href="#_8">다 됐습니다!</a></li>
                
            
            </ul>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../deploy_with_nginx/">Seahub와 Nginx 설정</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../https_with_nginx/">Nginx https 활성화</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../deploy_with_apache/">Seahub와 Apache 설정</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../https_with_apache/">Apache https 활성화</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../using_ldap/">Seafile LDAP 사용 설정</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../shibboleth_config/">Seafile 시볼레스 인증 사용 설정</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../upgrade/">Seafile 서버 업그레이드</a>
        
    </li>

        
            
    <ul class="subnav">
    <li><span>기타 가동 참고서</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../start_seafile_at_system_bootup/">시스템 부팅시 Seafile 시작하기</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../using_firewall/">방화벽 설정</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../using_logrotate/">Logrotate</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../add_memcached/">Memcached 추가</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../deploy_seafile_behind_nat/">NAT망에서 Seafile 가동</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../deploy_seahub_at_non-root_domain/">비 루트 영역에서 Seafile 가동</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../migrate_from_sqlite_to_mysql/">SQLite에서 MySQL로 이전</a>
        
    </li>

        
    </ul>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../faq/">서버 설정 시 일반 문제</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../new_directory_layout_5_0_0/">Seafile 서버 5.0.0의 새 디렉터리 배치</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>윈도우에서 Seafile 가동</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../deploy_windows/deploy_with_windows/">Deploy with windows</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../deploy_windows/download_and_setup_seafile_windows_server/">Seafile 윈도우 서버 다운로드 및 설정</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../deploy_windows/using_ldap/">윈도우에서 Seafile LDAP 사용 설정</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../deploy_windows/deploy_with_mysql/">Seafile과 MySQL 가동</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../deploy_windows/deploy_with_apache/">Seafile과 Apache 가동</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../deploy_windows/deploy_with_apache/">Seafile과 Nginx 가동</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../deploy_windows/install_seafile_server_as_a_windows_service/">윈도우 서비스로 Seafile 서버 설치</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../deploy_windows/ports_used_by_seafile_windows_server/">Seafile 윈도우 서버에서 사용하는 포트</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../deploy_windows/upgrading_seafile_windows_server/">Seafile 윈도우 서버 업그레이드</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../deploy_windows/migrate_from_win_to_linux/">윈도우에서 리눅스로 Seafile 옮기기</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../deploy_windows/windows_gc/">Seafile 서버 미사용 블록 가비지 콜렉션</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../deploy_windows/windows_fsck/">손상된 저장소에 대해 seaf-fsck 실행</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Seafile 전문가판 가동</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../deploy_pro/README/">README</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../deploy_pro/download_and_setup_seafile_professional_server/">Seafile 전문가 서버 다운로드 및 설치</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../deploy_pro/migrate_from_seafile_community_server/">Seafile 커뮤니티 서버에서 옮기기</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../deploy_pro/upgrading_seafile_professional_server/">Seafile 전문가 서버 업그레이드</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../deploy_pro/using_ldap_pro/">Seafile 전문가판의 LDAP 설정</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../deploy_pro/ldap_group_sync/">LDAP에서 그룹 가져오기</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../deploy_pro/configurable_options/">다중 단체 지원</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../deploy_pro/office_documents_preview/">Office/PDF 문서 온라인 미리 보기 활성화</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../deploy_pro/office_web_app/">오피스 웹 앱 통합</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../deploy_pro/details_about_file_search/">파일 검색 세부 안내</a>
        
    </li>

        
            
    <ul class="subnav">
    <li><span>바이러스 검사</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../deploy_pro/virus_scan/">Virus scan</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../deploy_pro/virus_scan_with_kav4fs/">kav4fs로 바이러스 검사</a>
        
    </li>

        
    </ul>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../deploy_pro/web_resumable_upload/">재개 가능한 웹 기반 파일 업로드</a>
        
    </li>

        
            
    <ul class="subnav">
    <li><span>저장소 백엔드</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../deploy_pro/setup_with_amazon_s3/">아마존 S3 백엔드</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../deploy_pro/setup_with_ceph/">Ceph 백엔드</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../deploy_pro/setup_with_swift/">오픈스택 Swift 백엔드</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>클러스터 가동</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../deploy_pro/deploy_in_a_cluster/">클러스터에서 가동</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../deploy_pro/clustering_with_mariadb_ceph/">MariaDB와 Ceph 설정</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../deploy_pro/setup_seafile_cluster_with_nfs/">NFS와 Seafile 클러스터 설정</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../deploy_pro/enable_search_and_background_tasks_in_a_cluster/">클러스터에서 검색 및 백그라운드 작업 활성화</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../deploy_pro/upgrade_a_cluster/">클러스터 업그레이드</a>
        
    </li>

        
    </ul>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../deploy_pro/real_time_backup/">실시간 백업 서버</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../deploy_pro/configurable_options/">설정 가능 항목</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../deploy_pro/faq_for_seafile_pro_server/">자주 묻는 질문</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../deploy_pro/seafile_professional_sdition_software_license_agreement/">라이선스</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>서버 설정 및 개별 설정</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../config/README/">README</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../config/ccnet-conf/">ccnet.conf</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../config/seafile-conf/">seafile.conf</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../config/seahub_settings_py/">seahub_settings.py</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../config/seahub_customization/">Seahub 개별 설정</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../config/desktop_customization/">Desktop 클라이언트 개별 설정</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../config/sending_email/">전자메일 보내기</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../config/user_options/">사용자 관리 설정 항목</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../config/quota_and_size_options/">저장소 용량 제한 및 파일 크기 제한</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>관리</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../maintain/README/">README</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../maintain/account/">계정 관리</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../maintain/logs/">로그</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../maintain/backup_recovery/">백업 및 복원</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../maintain/seafile_fsck/">Seafile FSCK</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../maintain/seafile_gc/">Seafile GC</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../maintain/clean_database/">데이터베이스 정리</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>WebDAV 및 FUSE 확장 기능</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../extension/README/">README</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../extension/webdav/">WebDAV 확장 기능</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../extension/fuse/">FUSE 확장 기능</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>보안 및 감사</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../security/README/">README</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../security/security_features/">보안 기능</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../security/auditing/">접근 기록 및 감사</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>개발</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../develop/README/">README</a>
        
    </li>

        
            
    <ul class="subnav">
    <li><span>Seafile 빌드 방법</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../build_seafile/README/">README</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../build_seafile/linux/">리눅스</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../build_seafile/freebsd/">FreeBSD</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../build_seafile/windows/">윈도우</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../build_seafile/osx/">Mac OS X</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../build_seafile/server/">서버</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../build_seafile/rpi/">라즈베리 파이</a>
        
    </li>

        
    </ul>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../develop/env/">개발 환경</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../develop/code_standard/">코딩 표준</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../develop/web_api/">웹 API</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../develop/web_api_v2.1/">웹 API V2.1</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../develop/python_api/">파이썬 API</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../develop/php_api/">PHP API</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../develop/data_model/">데이터 모델</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../develop/server-components/">서버 구성 요소</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../develop/sync_algorithm/">동기화 알고리즘</a>
        
    </li>

        
    </ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Server Seafile Manual</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Linux에서 Seafile 가동 &raquo;</li>
        
      
    
    <li>Seafile과 MySQL 가동</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="seafile-mysql">Seafile과 MySQL 가동</h1>
<p>이 설명서는 미리 빌드한 Seafile 서버 꾸러미를 MySQL과 함께 설치하고 실행하는 방법을 설명합니다.</p>
<h2 id="_1">다운로드</h2>
<p>최신 서버 꾸러미를 <a href="http://www.seafile.com/en/download">다운로드</a> 하십시오.</p>
<h2 id="deploying-and-directory-layout">Deploying and Directory Layout</h2>
<p>Supposed your organization's name is "haiwen", and you've downloaded <code>seafile-server_1.8.2_*</code> into your home directory. We suggest you to layout your deployment as follows :</p>
<pre>
mkdir haiwen
mv seafile-server_* haiwen
cd haiwen
# after moving seafile-server_* to this directory
tar -xzf seafile-server_*
mkdir installed
mv seafile-server_* installed
</pre>

<p>Now you should have the following directory layout
<pre></p>
<h1 id="tree-haiwen-l-2">tree haiwen -L 2</h1>
<p>haiwen
├── installed
│   └── seafile-server_1.8.2_x86-64.tar.gz
└── seafile-server-1.8.2
    ├── reset-admin.sh
    ├── runtime
    ├── seafile
    ├── seafile.sh
    ├── seahub
    ├── seahub.sh
    ├── setup-seafile.sh
    └── upgrade
</pre></p>
<p>The benefit of this layout is that:</p>
<ul>
<li>We can place all the config files for Seafile server inside "haiwen" directory, making it easier to manage.</li>
<li>When you upgrade to a new version of Seafile, you can simply untar the latest package into "haiwen" directory. In this way you can reuse the existing config files in "haiwen" directory and don't need to configure again.</li>
</ul>
<h2 id="mysql">MySQL 데이터베이스 준비</h2>
<p>Three components of Seafile Server need their own databases:</p>
<ul>
<li>ccnet 서버</li>
<li>seafile 서버</li>
<li>seahub</li>
</ul>
<p>Seafile 서버 구성요소에 대해 더 알아보려면 <a href="../../overview/components/">Seafile 서버 구성 요소 둘러보기</a>를 살펴보십시오.</p>
<p>There are two ways to intialize the databases:</p>
<ul>
<li>let the <code>setup-seafile-mysql.sh</code> script create the databases for you.</li>
<li>create the databases by yourself, or someone else (the database admin, for example)</li>
</ul>
<p>We recommend the first way. The script would ask you for the root password of the mysql server, and it will create:</p>
<ul>
<li>ccnet/seafile/seahub 데이터베이스</li>
<li>데이터베이스에 접근할 새 사용자</li>
</ul>
<p>However, sometimes you have to use the second way. If you don't have the root password, you need someone who has the privileges, e.g., the database admin, to create the three databases, as well as a mysql user who can access the three databases for you. For example, to create three databases: <code>ccnet-db</code> / <code>seafile-db</code> / <code>seahub-db</code> for ccnet/seafile/seahub respectively, and a mysql user "seafile" to access these databases:</p>
<pre>
create database `ccnet-db` character set = 'utf8';
create database `seafile-db` character set = 'utf8';
create database `seahub-db` character set = 'utf8';

create user 'seafile'@'localhost' identified by 'seafile';

GRANT ALL PRIVILEGES ON `ccnet-db`.* to `seafile`@localhost;
GRANT ALL PRIVILEGES ON `seafile-db`.* to `seafile`@localhost;
GRANT ALL PRIVILEGES ON `seahub-db`.* to `seafile`@localhost;
</pre>

<h2 id="seafile">Seafile 서버 설치</h2>
<h3 id="_2">선행 과정</h3>
<p>Seafile 서버 꾸러미에서는 시스템에 우선 설치한 다음 꾸러미가 필요합니다.</p>
<ul>
<li>python 2.7</li>
<li>python-setuptools</li>
<li>python-imaging</li>
<li>python-ldap</li>
<li>python-mysqldb</li>
<li>python-memcache (or python-memcached)</li>
</ul>
<pre>
# on Debian/Ubuntu
apt-get update
apt-get install python2.7 libpython2.7 python-setuptools python-imaging \
  python-ldap python-mysqldb python-memcache
</pre>

<pre>
# on CentOS 7
sudo yum install python-imaging MySQL-python python-memcached python-ldap
</pre>

<h3 id="_3">설정</h3>
<pre>
cd seafile-server-*
./setup-seafile-mysql.sh  #run the setup script & answer prompted questions
</pre>

<p>If some of the prerequisites are not installed, the seafile initialization script will ask you to install them.</p>
<p>스크립트는 다양한 설정 옵션 설정을 안내합니다.</p>
<p><strong> Seafile 설정 옵션 </strong></p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>server name</td>
<td>Name of this seafile server</td>
<td>3-15 characters, only English letters, digits and underscore ('_') are allowed</td>
</tr>
<tr>
<td>server ip or domain</td>
<td>The IP address or domain name used by this server</td>
<td>Seafile client program will access the server with this address</td>
</tr>
<tr>
<td>seafile data dir</td>
<td>Seafile stores your data in this directory. By default it'll be placed in the current directory.</td>
<td>The size of this directory will increase as you put more and more data into Seafile. Please select a disk partition with enough free space.</td>
</tr>
<tr>
<td>fileserver port</td>
<td>The TCP port used by Seafile fileserver</td>
<td>Default is 8082. If it's been used by other service, you can set it to another port.</td>
</tr>
</tbody>
</table>
<p>At this moment, you will be asked to choose a way to initialize seafile databases:</p>
<pre><code class="sh">-------------------------------------------------------
Please choose a way to initialize seafile databases:
-------------------------------------------------------

[1] Create new ccnet/seafile/seahub databases
[2] Use existing ccnet/seafile/seahub databases

</code></pre>

<p>Which one to choose depends on if you have the root password.</p>
<ul>
<li>If you choose "1", you need to provide the root password. The script would create the databases and a new user to access the databases</li>
<li>If you choose "2", the ccnet/seafile/seahub databases must have already been created, either by you, or someone else.</li>
</ul>
<p>If you choose "[1] Create new ccnet/seafile/seahub databases", you would be asked these questions:</p>
<table>
<thead>
<tr>
<th>Question</th>
<th>Description</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>mysql server host</td>
<td>the host address of the mysql server</td>
<td>the default is localhost</td>
</tr>
<tr>
<td>mysql server port</td>
<td>the port of the mysql server</td>
<td>the default is 3306. Almost every mysql server uses this port.</td>
</tr>
<tr>
<td>root password</td>
<td>the password of mysql root account</td>
<td>the root password is required to create new databases and a new user</td>
</tr>
<tr>
<td>mysql user for seafile</td>
<td>the username for seafile programs to use to access MySQL server</td>
<td>if the user does not exist, it would be created</td>
</tr>
<tr>
<td>password for seafile mysql user</td>
<td>the password for the user above</td>
<td></td>
</tr>
<tr>
<td>ccnet dabase name</td>
<td>the name of the database used by ccnet, default is "ccnet-db"</td>
<td>the database would be created if not existing</td>
</tr>
<tr>
<td>seafile dabase name</td>
<td>the name of the database used by seafile, default is "seafile-db"</td>
<td>the database would be created if not existing</td>
</tr>
<tr>
<td>seahub dabase name</td>
<td>the name of the database used by seahub, default is "seahub-db"</td>
<td>the database would be created if not existing</td>
</tr>
</tbody>
</table>
<p>If you choose "[2] Use existing ccnet/seafile/seahub databases", you would be asked these questions:</p>
<p><strong> related questions for "Use existing ccnet/seafile/seahub databases" </strong></p>
<table>
<thead>
<tr>
<th>Question</th>
<th>Description</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>mysql server host</td>
<td>the host address of the mysql server</td>
<td>the default is localhost</td>
</tr>
<tr>
<td>mysql server port</td>
<td>the port of the mysql server</td>
<td>the default is 3306. Almost every mysql server uses this port</td>
</tr>
<tr>
<td>mysql user for seafile</td>
<td>the user for seafile programs to use to access MySQL server</td>
<td>the user must already exists</td>
</tr>
<tr>
<td>password for seafile mysql user</td>
<td>the password for the user above</td>
<td></td>
</tr>
<tr>
<td>ccnet dabase name</td>
<td>the name of the database used by ccnet</td>
<td>this database must already exist</td>
</tr>
<tr>
<td>seafile dabase name</td>
<td>the name of the database used by seafile, default is "seafile-db"</td>
<td>this database must already exist</td>
</tr>
<tr>
<td>seahub dabase name</td>
<td>the name of the database used by seahub, default is "seahub-db"</td>
<td>this database must already exist</td>
</tr>
</tbody>
</table>
<p>설정을 완전히 끝냈으면 다음 출력을 볼 수 있습니다</p>
<p><img alt="server-setup-succesfully" src="../../images/Server-setup-successfully.png" /></p>
<p>이제 다음 디렉터리 배치 상태를 지니고 있어야합니다:</p>
<pre><code class="sh">#tree haiwen -L 2
haiwen
├── ccnet               # configuration files
│   ├── mykey.peer
│   ├── PeerMgr
│   └── seafile.ini
├── conf
│   └── ccnet.conf
│   └── seafile.conf
│   └── seahub_settings.py
├── installed
│   └── seafile-server_1.8.2_x86-64.tar.gz
├── seafile-data
├── seafile-server-1.8.2  # active version
│   ├── reset-admin.sh
│   ├── runtime
│   ├── seafile
│   ├── seafile.sh
│   ├── seahub
│   ├── seahub.sh
│   ├── setup-seafile.sh
│   └── upgrade
├── seafile-server-latest  # symbolic link to seafile-server-1.8.2
├── seahub-data
│   └── avatars
</code></pre>

<p>The folder <code>seafile-server-latest</code> is a symbolic link to the current seafile server folder. When later you upgrade to a new version, the upgrade scripts would update this link to keep it always point to the latest seafile server folder.</p>
<h2 id="seafile_1">Seafile 서버 실행</h2>
<h3 id="seafile-seahub">Seafile 서버 및 Seahub 웹사이트 시작</h3>
<p>Under seafile-server-1.8.2 directory, run the following commands</p>
<pre><code>./seafile.sh start # Start seafile service
./seahub.sh start &lt;port&gt;  # Start seahub website, port defaults to 8000
</code></pre>

<p>Note: The first time you start seahub, the script would prompt you to create an admin account for your seafile server.</p>
<p>After starting the services, you may open a web browser and visit Seafile web interface at (assume your server IP is 192.168.1.111):</p>
<pre><code>http://192.168.1.111:8000/
</code></pre>

<p>Congratulations! Now you have successfully setup your private Seafile server.</p>
<h3 id="seahub">다른 포트에서 Seahub 실행</h3>
<p>If you want to run seahub in a port other than the default 8000, say 8001, you must:</p>
<ul>
<li>
<p>Seafile 서버를 멈추십시오
<pre>
./seahub.sh stop
./seafile.sh stop
</pre></p>
</li>
<li>
<p><a href="../../config/ccnet-conf/">ccnet.conf</a>파일의 <code>SERVICE_URL</code> 값을 다음과 같은 값으로 바꾸십시오(IP 또는 도메인을 <code>192.168.1.100</code>으로 가정):
<pre>
SERVICE_URL = http://192.168.1.111:8001
</pre></p>
</li>
<li>
<p>Seafile 서버를 다시 시작하십시오
<pre>
./seafile.sh start
./seahub.sh start 8001
</pre></p>
</li>
</ul>
<p>see <a href="server_configuration.md">Seafile server configuration options</a> for more details about <code>ccnet.conf</code>.</p>
<h2 id="seafile-seahub_1">Seafile 및 Seahub 중지 및 다시 시작</h2>
<h4 id="_4">중지</h4>
<pre>
./seahub.sh stop # stop seahub website
./seafile.sh stop # stop seafile processes
</pre>

<h4 id="_5">다시 시작</h4>
<pre>
./seafile.sh restart
./seahub.sh restart
</pre>

<h4 id="_6">스크립트 동작에 실패했을 때</h4>
<p>대부분의 경우 seafile.sh와 seahub.sh는 잘 동작합니다. 하지만 동작에 실패했을 경우:</p>
<ul>
<li>Use <code>pgrep</code> command to check if seafile/seahub processes are still running</li>
</ul>
<pre>
pgrep -f seafile-controller # check seafile processes
pgrep -f "manage.py run_gunicorn" # check seahub process
</pre>

<ul>
<li>Use <code>pkill</code> to kill the processes</li>
</ul>
<pre>
pkill -f seafile-controller
pkill -f "manage.py run_gunicorn"
</pre>

<h2 id="_7">성능 조정</h2>
<p>If you have more than 50 users in your Seafile system, we highly recommand you to <a href="../add_memcached/">add memcached</a>. This will make the web 10x faster.  </p>
<h2 id="_8">다 됐습니다!</h2>
<p>다 됐습니다! 이제 Seafile에 대한 내용을 더 읽어 볼 차례입니다.</p>
<ul>
<li><a href="../deploy_with_nginx/">Deploy Seafile with Nginx</a> / <a href="../deploy_with_apache/">Deploy Seafile with Apache</a></li>
<li><a href="../https_with_nginx/">Enable Https on Seafile Web with Nginx</a> / <a href="../https_with_apache/">Enable Https on Seafile Web with Apache</a></li>
<li><a href="../using_ldap/">Seafile LDAP 사용 설정</a></li>
<li><a href="../../maintain/README/">How to manage the server</a></li>
</ul>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../deploy_with_nginx/" class="btn btn-neutral float-right" title="Seahub와 Nginx 설정">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../using_sqlite/" class="btn btn-neutral" title="Seafile과 SQLite 가동"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../using_sqlite/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../deploy_with_nginx/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
